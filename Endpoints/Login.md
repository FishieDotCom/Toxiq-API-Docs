# Auth

![Logo](/Images/auth.jpg)

Toxiq has multiple ways to login.  


[OTP](#login-via-otp) is best to be used in apps  
[TG](#login-via-telegram) is best for situations where you have access to the users Telegram Auth data. this endpoint takes advantage of Telegram passport


# Login Via OTP

for now the main login endpoint is disabled as phone number support has not been implimented

#### POST
        api.toxiq.xyz/api/Auth/DebugLogin
| Name        | Type   | Comment            | IsRequired |
|-------------|--------|--------------------|------------|
| PhoneNumber | string | **DO NOT LEAVE EMPTY WRITE SOMETHING**     | Yes        |
| OTP         | string | Set user OTP       | Yes        |


# Login Via Telegram

when loggin in using telegram you will need to obtain initData string that is generated by either tmajs.sdk or telegram-web-app.js  

assigned initData to LoginDto.OTP and send to the server



#### POST
        api.toxiq.xyz/api/Auth/TG_WEB_LOGIN

| Name        | Type   | Comment            | IsRequired |
|-------------|--------|--------------------|------------|
| PhoneNumber | string | **DO NOT LEAVE EMPTY WRITE SOMETHING**     | Yes        |
| OTP         | string | Set initData obtained via tmajs.sdk       | Yes        |

### if a user is not registed they will automatically get registered when their data is sent to this endpoint

## Login Response

| Name  | Type   | Comment                                       |
|-------|--------|-----------------------------------------------|
| token | string | beare token to be used for when making calls to the api                                              |
| IsNew | bool   | If true, take the user to the onboarding process |

